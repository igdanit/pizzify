{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction OrderComponent_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const status_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngValue\", status_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.orderStatuses[status_r1], \" \");\n  }\n}\nexport class OrderComponent {\n  constructor() {\n    this.orderStatuses = {\n      ACCEPTED: \"ЗАКАЗ ОБРАБАТЫВЕТСЯ\",\n      COOKING: \"ГОТОВИТСЯ\",\n      DELIVERING: \"ДОСТАВЛЯЕТСЯ\",\n      DELIVERED: \"ДОСТАВЛЕНО\",\n      REJECTED: \"ОТМЕНЕНО\"\n    };\n    this.form = new FormGroup({\n      state: new FormControl()\n    });\n  }\n  ngOnInit() {\n    this.form.value.state = this.status;\n  }\n  getStatusesAsArray() {\n    const arr = [];\n    for (let prop in this.orderStatuses) {\n      arr.push(prop);\n    }\n    return arr;\n  }\n  updateStatus() {\n    console.log(this.form.value);\n  }\n}\nOrderComponent.ɵfac = function OrderComponent_Factory(t) {\n  return new (t || OrderComponent)();\n};\nOrderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OrderComponent,\n  selectors: [[\"app-order\"]],\n  inputs: {\n    order: \"order\",\n    status: \"status\"\n  },\n  decls: 28,\n  vars: 12,\n  consts: [[1, \"order\"], [1, \"order--data\"], [\"alt\", \"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\", \"width\", \"64px\", \"height\", \"64px\", 3, \"src\"], [3, \"formGroup\"], [\"formControlName\", \"state\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [1, \"button\", 3, \"click\"], [3, \"ngValue\"]],\n  template: function OrderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 1);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 1);\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 1);\n      i0.ɵɵtext(10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 1);\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 1);\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 1);\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 1);\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 1);\n      i0.ɵɵelement(20, \"img\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 1)(22, \"form\", 3)(23, \"select\", 4);\n      i0.ɵɵtemplate(24, OrderComponent_option_24_Template, 2, 2, \"option\", 5);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(25, \"div\", 1)(26, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function OrderComponent_Template_button_click_26_listener() {\n        return ctx.updateStatus();\n      });\n      i0.ɵɵtext(27, \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.order.type, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.order.size, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.order.thickness, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.order.crust, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.order.toppings.toString(), \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.order.address, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.order.comment, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.order.createdAt.toLocaleString(\"ru-RU\"), \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.order.slackUser.username, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"src\", ctx.order.slackUser.userAvatar, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.getStatusesAsArray());\n    }\n  },\n  dependencies: [i1.NgForOf, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\".order[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\\n    margin: 5px;\\n    border: solid 2px peachpuff;\\n}\\n\\n.order--data[_ngcontent-%COMP%] {\\n    align-self: center;\\n    justify-self: center;\\n    grid-row: 1;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9vcmRlci9vcmRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLHNFQUFzRTtJQUN0RSxXQUFXO0lBQ1gsMkJBQTJCO0FBQy9COztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLG9CQUFvQjtJQUNwQixXQUFXO0FBQ2YiLCJzb3VyY2VzQ29udGVudCI6WyIub3JkZXIge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyIDFmciAxZnIgMWZyIDFmciAxZnIgMWZyIDFmciAxZnIgMWZyIDFmcjtcbiAgICBtYXJnaW46IDVweDtcbiAgICBib3JkZXI6IHNvbGlkIDJweCBwZWFjaHB1ZmY7XG59XG5cbi5vcmRlci0tZGF0YSB7XG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAgIGp1c3RpZnktc2VsZjogY2VudGVyO1xuICAgIGdyaWQtcm93OiAxO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,WAAW,EAAEC,SAAS,QAAQ,gBAAgB;;;;;;ICiCvCC,iCAAuE;IACnEA,YACJ;IAAAA,iBAAS;;;;;IAF2CA,mCAAkB;IAClEA,eACJ;IADIA,gEACJ;;;ADlBhB,OAAM,MAAOC,cAAc;EAL3BC;IAYE,kBAAa,GAA2B;MACtCC,QAAQ,EAAE,qBAAqB;MAC/BC,OAAO,EAAE,WAAW;MACpBC,UAAU,EAAE,cAAc;MAC1BC,SAAS,EAAE,YAAY;MACvBC,QAAQ,EAAE;KACX;IAED,SAAI,GAAG,IAAIR,SAAS,CAAC;MACnBS,KAAK,EAAE,IAAIV,WAAW;KACvB,CAAC;;EAhBFW,QAAQ;IACN,IAAI,CAACC,IAAI,CAACC,KAAK,CAACH,KAAK,GAAG,IAAI,CAACI,MAAM;EACrC;EAgBAC,kBAAkB;IAChB,MAAMC,GAAG,GAAG,EAAE;IACd,KAAK,IAAIC,IAAI,IAAI,IAAI,CAACC,aAAa,EAAE;MACnCF,GAAG,CAACG,IAAI,CAACF,IAAI,CAAC;;IAEhB,OAAOD,GAAG;EACZ;EAEAI,YAAY;IACVC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACV,IAAI,CAACC,KAAK,CAAC;EAC9B;;AA7BWV,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAoB;EAAAC;IAAAC;IAAAX;EAAA;EAAAY;EAAAC;EAAAC;EAAAC;IAAA;MClB3B3B,8BAAmB;MAEXA,YACJ;MAAAA,iBAAM;MACNA,8BAAyB;MACrBA,YACJ;MAAAA,iBAAM;MACNA,8BAAyB;MACrBA,YACJ;MAAAA,iBAAM;MACNA,8BAAyB;MACrBA,YACJ;MAAAA,iBAAM;MACNA,8BAAyB;MACrBA,aACJ;MAAAA,iBAAM;MACNA,+BAAyB;MACtBA,aACH;MAAAA,iBAAM;MACNA,+BAAyB;MACrBA,aACJ;MAAAA,iBAAM;MACNA,+BAAyB;MACrBA,aACJ;MAAAA,iBAAM;MACNA,+BAAyB;MACrBA,aACJ;MAAAA,iBAAM;MACNA,+BAAyB;MACrBA,0BAAwF;MAC5FA,iBAAM;MACNA,+BAAyB;MAGbA,uEAES;MACbA,iBAAS;MAGjBA,+BAAyB;MACEA;QAAA,OAAS4B,kBAAc;MAAA,EAAC;MAAC5B,sGAAe;MAAAA,iBAAS;;;MAvCxEA,eACJ;MADIA,+CACJ;MAEIA,eACJ;MADIA,+CACJ;MAEIA,eACJ;MADIA,oDACJ;MAEIA,eACJ;MADIA,gDACJ;MAEIA,eACJ;MADIA,8DACJ;MAEGA,eACH;MADGA,kDACH;MAEIA,eACJ;MADIA,kDACJ;MAEIA,eACJ;MADIA,4EACJ;MAEIA,eACJ;MADIA,6DACJ;MAESA,eAAkC;MAAlCA,sEAAkC;MAGjCA,eAAkB;MAAlBA,oCAAkB;MAEWA,eAAuB;MAAvBA,kDAAuB","names":["FormControl","FormGroup","i0","OrderComponent","constructor","ACCEPTED","COOKING","DELIVERING","DELIVERED","REJECTED","state","ngOnInit","form","value","status","getStatusesAsArray","arr","prop","orderStatuses","push","updateStatus","console","log","selectors","inputs","order","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/igdanit/git/pizzify/pizzify-view/src/app/components/order/order.component.ts","/home/igdanit/git/pizzify/pizzify-view/src/app/components/order/order.component.html"],"sourcesContent":["import { Component, Input, NgIterable, OnInit } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { IOrder } from 'src/app/models/order';\n\ninterface sus {\n  ACCEPTED: string,\n  COOKING: string,\n  DELIVERING: string,\n  DELIVERED: string,\n  REJECTED: string\n}\n\n\n@Component({\n  selector: 'app-order',\n  templateUrl: './order.component.html',\n  styleUrls: ['./order.component.css']\n})\nexport class OrderComponent implements OnInit{\n  ngOnInit(): void {\n    this.form.value.state = this.status\n  }\n  @Input() order:IOrder;\n  @Input() status: string;\n  \n  orderStatuses: {[key:string]: string} = {\n    ACCEPTED :\"ЗАКАЗ ОБРАБАТЫВЕТСЯ\",\n    COOKING :\"ГОТОВИТСЯ\",\n    DELIVERING :\"ДОСТАВЛЯЕТСЯ\",\n    DELIVERED :\"ДОСТАВЛЕНО\",\n    REJECTED :\"ОТМЕНЕНО\"\n  }\n\n  form = new FormGroup({\n    state: new FormControl()\n  })\n\n  getStatusesAsArray(): any[] {\n    const arr = []\n    for (let prop in this.orderStatuses) {\n      arr.push(prop)\n    }\n    return arr\n  }\n\n  updateStatus() {\n    console.log(this.form.value)\n  }\n\n}\n\n","<div class=\"order\"> \n    <div class=\"order--data\">\n        {{order.type}}    \n    </div>\n    <div class=\"order--data\">\n        {{order.size}}\n    </div>\n    <div class=\"order--data\">\n        {{order.thickness}}\n    </div>\n    <div class=\"order--data\">\n        {{order.crust}}\n    </div>\n    <div class=\"order--data\">\n        {{order.toppings.toString()}}\n    </div>\n    <div class=\"order--data\">\n       {{order.address}} \n    </div>\n    <div class=\"order--data\">\n        {{order.comment}}\n    </div>\n    <div class=\"order--data\">\n        {{order.createdAt.toLocaleString('ru-RU')}}\n    </div>\n    <div class=\"order--data\">\n        {{order.slackUser.username}}\n    </div>\n    <div class=\"order--data\">\n        <img [src]=\"order.slackUser.userAvatar\" alt=\"Аватар клиента\" width=\"64px\" height=\"64px\">\n    </div>\n    <div class=\"order--data\">\n        <form [formGroup]=\"form\">\n            <select formControlName=\"state\">\n                <option *ngFor=\"let status of getStatusesAsArray()\" [ngValue]=\"status\">\n                    {{orderStatuses[status]}}\n                </option>\n            </select>\n        </form>\n    </div>\n    <div class=\"order--data\">\n        <button class=\"button\" (click)=\"updateStatus()\">Изменить статус</button>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}