{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/order.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../order/order.component\";\nfunction DashboardComponent_app_order_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-order\", 4);\n  }\n  if (rf & 2) {\n    const order_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"order\", order_r1);\n  }\n}\nexport class DashboardComponent {\n  constructor(orderService) {\n    this.orderService = orderService;\n    this.orders = [];\n    this.ordersOffset = 0;\n    this.ordersAmount = 10;\n    this.tableHeader = {\n      type: \"\",\n      size: \"\",\n      thickness: \"\",\n      crust: \"\",\n      toppings: [\"\"],\n      address: \"\",\n      comment: \"\",\n      createdAt: \"\"\n    };\n  }\n  // Fetch last orders from API\n  ngOnInit() {\n    this.orderService.getOrders(this.ordersOffset, this.ordersAmount).subscribe(this.setOrders.bind(this));\n  }\n  setOrders(data) {\n    this.orders = data;\n    this.orders.forEach(order => {\n      order.createdAt = new Date(order.createdAt).toLocaleString('ru-RU');\n    });\n  }\n}\nDashboardComponent.ɵfac = function DashboardComponent_Factory(t) {\n  return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.OrderService));\n};\nDashboardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DashboardComponent,\n  selectors: [[\"app-dashboard\"]],\n  decls: 5,\n  vars: 1,\n  consts: [[1, \"dashboard\"], [1, \"dashboard--header\"], [1, \"dashboard--items\"], [3, \"order\", 4, \"ngFor\", \"ngForOf\"], [3, \"order\"]],\n  template: function DashboardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2, \" DASHBOARD \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵtemplate(4, DashboardComponent_app_order_4_Template, 1, 1, \"app-order\", 3);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.orders);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.OrderComponent],\n  styles: [\".dashboard--header[_ngcontent-%COMP%] {\\n    text-align: center;\\n}\\n\\n.dashboard--items[_ngcontent-%COMP%] {\\n    display: grid;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCIiwic291cmNlc0NvbnRlbnQiOlsiLmRhc2hib2FyZC0taGVhZGVyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5kYXNoYm9hcmQtLWl0ZW1zIHtcbiAgICBkaXNwbGF5OiBncmlkO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;IAKQA,+BAAoE;;;;IAA5BA,gCAAe;;;ACI/D,OAAM,MAAOC,kBAAkB;EAM7BC,YAAoBC,YAAyB;IAAzB,iBAAY,GAAZA,YAAY;IAJhC,WAAM,GAAa,EAAE;IACrB,iBAAY,GAAG,CAAC;IAChB,iBAAY,GAAG,EAAE;IAgBjB,gBAAW,GAAG;MACZC,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE,EAAE;MACRC,SAAS,EAAE,EAAE;MACbC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,CAAC,EAAE,CAAC;MACdC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE,EAAE;MACXC,SAAS,EAAE;KACZ;EAvB+C;EAEhD;EACAC,QAAQ;IACN,IAAI,CAACT,YAAY,CAACU,SAAS,CAAC,IAAI,CAACC,YAAY,EAAE,IAAI,CAACC,YAAY,CAAC,CAACC,SAAS,CAAC,IAAI,CAACC,SAAS,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;EACxG;EAEAD,SAAS,CAACE,IAAc;IACtB,IAAI,CAACC,MAAM,GAAGD,IAAI;IAClB,IAAI,CAACC,MAAM,CAACC,OAAO,CAAEC,KAAa,IAAI;MACpCA,KAAK,CAACX,SAAS,GAAI,IAAIY,IAAI,CAACD,KAAK,CAACX,SAAS,CAAC,CAAEa,cAAc,CAAC,OAAO,CAAC;IACvE,CAAC,CAAC;EACJ;;AAlBWvB,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT/B7B,8BAAuB;MAEfA,2BACJ;MAAAA,iBAAM;MACNA,8BAA8B;MAC1BA,+EAAoE;MACxEA,iBAAM;;;MAD2BA,eAAS;MAATA,oCAAS","names":["i0","DashboardComponent","constructor","orderService","type","size","thickness","crust","toppings","address","comment","createdAt","ngOnInit","getOrders","ordersOffset","ordersAmount","subscribe","setOrders","bind","data","orders","forEach","order","Date","toLocaleString","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/igdanit/git/pizzify/pizzify-view/src/app/components/dashboard/dashboard.component.html","/home/igdanit/git/pizzify/pizzify-view/src/app/components/dashboard/dashboard.component.ts"],"sourcesContent":["<div class=\"dashboard\">\n    <div class=\"dashboard--header\">\n        DASHBOARD\n    </div>\n    <div class=\"dashboard--items\">\n        <app-order *ngFor=\"let order of orders\" [order]=\"order\"></app-order>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { IOrder } from 'src/app/models/order';\nimport { OrderService } from 'src/app/services/order.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit{\n\n  orders: IOrder[] = [];\n  ordersOffset = 0;\n  ordersAmount = 10;\n  \n  constructor(private orderService:OrderService) {}\n  \n  // Fetch last orders from API\n  ngOnInit(): void {\n    this.orderService.getOrders(this.ordersOffset, this.ordersAmount).subscribe(this.setOrders.bind(this))\n  }\n  \n  setOrders(data: IOrder[]): void {\n    this.orders = data;\n    this.orders.forEach((order: IOrder) => {\n      order.createdAt = (new Date(order.createdAt)).toLocaleString('ru-RU')\n    })\n  }\n  \n  tableHeader = {\n    type: \"\",\n    size: \"\",\n    thickness: \"\",\n    crust: \"\",\n    toppings: [\"\"],\n    address: \"\",\n    comment: \"\",\n    createdAt: \"\",\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}