{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/order.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../order/order.component\";\nfunction DashboardComponent_app_order_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-order\", 8);\n  }\n  if (rf & 2) {\n    const order_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"order\", order_r1)(\"status\", order_r1.status);\n  }\n}\nexport class DashboardComponent {\n  constructor(orderService) {\n    this.orderService = orderService;\n    this.orders = [];\n    this.ordersOffset = 0;\n    this.ordersAmount = 10;\n  }\n  // Fetch last orders from API\n  ngOnInit() {\n    this.getOrders();\n  }\n  getOrders() {\n    this.orderService.getOrders(this.ordersOffset, this.ordersAmount).subscribe(this.setOrders.bind(this));\n  }\n  setOrders(data) {\n    this.orders = data;\n    this.orders.forEach(order => {\n      order.createdAt = new Date(order.createdAt);\n    });\n  }\n  nextOrders() {\n    if (this.orders.length === this.ordersAmount) {\n      this.ordersOffset += this.ordersAmount;\n      this.getOrders();\n    }\n  }\n  previousOrders() {\n    if (this.ordersOffset > 0) {\n      this.ordersOffset = Math.max(0, this.ordersOffset - this.ordersAmount);\n    }\n  }\n}\nDashboardComponent.ɵfac = function DashboardComponent_Factory(t) {\n  return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.OrderService));\n};\nDashboardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DashboardComponent,\n  selectors: [[\"app-dashboard\"]],\n  decls: 35,\n  vars: 1,\n  consts: [[1, \"dashboard\"], [1, \"dashboard--header\"], [1, \"dashboard--items\"], [1, \"order\"], [1, \"order--data\"], [3, \"order\", \"status\", 4, \"ngFor\", \"ngForOf\"], [1, \"pagination\"], [1, \"button\", 3, \"click\"], [3, \"order\", \"status\"]],\n  template: function DashboardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2, \" DASHBOARD \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4);\n      i0.ɵɵtext(6, \" \\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 4);\n      i0.ɵɵtext(8, \" \\u0420\\u0430\\u0437\\u043C\\u0435\\u0440 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 4);\n      i0.ɵɵtext(10, \" \\u0422\\u0438\\u043F \\u0442\\u0435\\u0441\\u0442\\u0430 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 4);\n      i0.ɵɵtext(12, \" \\u0422\\u0438\\u043F \\u0431\\u043E\\u0440\\u0442\\u0438\\u043A\\u0430 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 4);\n      i0.ɵɵtext(14, \" \\u0414\\u043E\\u0431\\u0430\\u0432\\u043A\\u0438 \\u043A \\u043F\\u0438\\u0446\\u0446\\u0435 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 4);\n      i0.ɵɵtext(16, \" \\u0410\\u0434\\u0440\\u0435\\u0441 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 4);\n      i0.ɵɵtext(18, \" \\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439 \\u043A \\u0437\\u0430\\u043A\\u0430\\u0437\\u0443 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 4);\n      i0.ɵɵtext(20, \" \\u0412\\u0440\\u0435\\u043C\\u044F \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 4);\n      i0.ɵɵtext(22, \" \\u041A\\u043B\\u0438\\u0435\\u043D\\u0442 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 4);\n      i0.ɵɵtext(24, \" \\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 4);\n      i0.ɵɵtext(26, \" \\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 4);\n      i0.ɵɵtext(28, \" \\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u044C \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(29, DashboardComponent_app_order_29_Template, 1, 2, \"app-order\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"div\", 6)(31, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_31_listener() {\n        return ctx.nextOrders;\n      });\n      i0.ɵɵtext(32, \"\\u0421\\u043B\\u0435\\u0434\\u0443\\u0449\\u0438\\u0435\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_33_listener() {\n        return ctx.previousOrders;\n      });\n      i0.ɵɵtext(34, \"\\u041F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u0438\\u0435\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(29);\n      i0.ɵɵproperty(\"ngForOf\", ctx.orders);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.OrderComponent],\n  styles: [\".dashboard--header[_ngcontent-%COMP%] {\\n    text-align: center;\\n}\\n\\n.dashboard--items[_ngcontent-%COMP%] {\\n    display: grid;\\n}\\n\\n.order[_ngcontent-%COMP%] {\\n    border: solid 5px black;\\n    display: grid;\\n    margin: 20px;\\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\\n}\\n\\n.order--data[_ngcontent-%COMP%] {\\n    align-self: center;\\n    justify-self: center;\\n    grid-row: 1;\\n}\\n\\n.pagination[_ngcontent-%COMP%] {\\n   display: flex;\\n   align-items: center;\\n   justify-content: center; \\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLGFBQWE7SUFDYixZQUFZO0lBQ1osc0VBQXNFO0FBQzFFOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLG9CQUFvQjtJQUNwQixXQUFXO0FBQ2Y7O0FBRUE7R0FDRyxhQUFhO0dBQ2IsbUJBQW1CO0dBQ25CLHVCQUF1QjtBQUMxQiIsInNvdXJjZXNDb250ZW50IjpbIi5kYXNoYm9hcmQtLWhlYWRlciB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uZGFzaGJvYXJkLS1pdGVtcyB7XG4gICAgZGlzcGxheTogZ3JpZDtcbn1cblxuLm9yZGVyIHtcbiAgICBib3JkZXI6IHNvbGlkIDVweCBibGFjaztcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIG1hcmdpbjogMjBweDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnIgMWZyIDFmciAxZnIgMWZyIDFmciAxZnIgMWZyIDFmciAxZnIgMWZyO1xufVxuXG4ub3JkZXItLWRhdGEge1xuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LXNlbGY6IGNlbnRlcjtcbiAgICBncmlkLXJvdzogMTtcbn1cblxuLnBhZ2luYXRpb24ge1xuICAgZGlzcGxheTogZmxleDtcbiAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IA2CQA,+BAA4F;;;;IAApDA,gCAAe;;;AClC/D,OAAM,MAAOC,kBAAkB;EAM7BC,YAAoBC,YAAyB;IAAzB,iBAAY,GAAZA,YAAY;IAJhC,WAAM,GAAa,EAAE;IACrB,iBAAY,GAAG,CAAC;IAChB,iBAAY,GAAG,EAAE;EAE+B;EAEhD;EACAC,QAAQ;IACN,IAAI,CAACC,SAAS,EAAE;EAClB;EAEAA,SAAS;IACP,IAAI,CAACF,YAAY,CAACE,SAAS,CAAC,IAAI,CAACC,YAAY,EAAE,IAAI,CAACC,YAAY,CAAC,CAACC,SAAS,CAAC,IAAI,CAACC,SAAS,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;EACxG;EAEAD,SAAS,CAACE,IAAc;IACtB,IAAI,CAACC,MAAM,GAAGD,IAAI;IAClB,IAAI,CAACC,MAAM,CAACC,OAAO,CAAEC,KAAa,IAAI;MACpCA,KAAK,CAACC,SAAS,GAAG,IAAIC,IAAI,CAACF,KAAK,CAACC,SAAS,CAAC;IAC7C,CAAC,CAAC;EACJ;EAEAE,UAAU;IACR,IAAI,IAAI,CAACL,MAAM,CAACM,MAAM,KAAK,IAAI,CAACX,YAAY,EAAE;MAC5C,IAAI,CAACD,YAAY,IAAI,IAAI,CAACC,YAAY;MACtC,IAAI,CAACF,SAAS,EAAE;;EAEpB;EAEAc,cAAc;IACZ,IAAI,IAAI,CAACb,YAAY,GAAG,CAAC,EAAE;MACzB,IAAI,CAACA,YAAY,GAAGc,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,IAAI,CAACf,YAAY,GAAG,IAAI,CAACC,YAAY,CAAC;;EAE1E;;AAnCWN,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT/B1B,8BAAuB;MAEfA,2BACJ;MAAAA,iBAAM;MACNA,8BAA8B;MAGlBA,kEACJ;MAAAA,iBAAM;MACNA,8BAAyB;MACrBA,sDACJ;MAAAA,iBAAM;MACNA,8BAAyB;MACrBA,oEACJ;MAAAA,iBAAM;MACNA,+BAAyB;MACrBA,gFACJ;MAAAA,iBAAM;MACNA,+BAAyB;MACrBA,mGACJ;MAAAA,iBAAM;MACNA,+BAAyB;MACrBA,kGACJ;MAAAA,iBAAM;MACNA,+BAAyB;MACrBA,iIACJ;MAAAA,iBAAM;MACNA,+BAAyB;MACrBA,sFACJ;MAAAA,iBAAM;MACNA,+BAAyB;MACrBA,uDACJ;MAAAA,iBAAM;MACNA,+BAAyB;MACrBA,kGACJ;MAAAA,iBAAM;MACNA,+BAAyB;MACrBA,4FACJ;MAAAA,iBAAM;MACNA,+BAAyB;MACrBA,qFACJ;MAAAA,iBAAM;MAEVA,iFAA4F;MAChGA,iBAAM;MACNA,+BAAwB;MACGA;QAAA;MAAA,EAAoB;MAACA,iEAAQ;MAAAA,iBAAS;MAC7DA,kCAAgD;MAAzBA;QAAA;MAAA,EAAwB;MAACA,6EAAU;MAAAA,iBAAS;;;MAJtCA,gBAAS;MAATA,oCAAS","names":["i0","DashboardComponent","constructor","orderService","ngOnInit","getOrders","ordersOffset","ordersAmount","subscribe","setOrders","bind","data","orders","forEach","order","createdAt","Date","nextOrders","length","previousOrders","Math","max","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/igdanit/git/pizzify/pizzify-view/src/app/components/dashboard/dashboard.component.html","/home/igdanit/git/pizzify/pizzify-view/src/app/components/dashboard/dashboard.component.ts"],"sourcesContent":["<div class=\"dashboard\">\n    <div class=\"dashboard--header\">\n        DASHBOARD\n    </div>\n    <div class=\"dashboard--items\">\n        <div class=\"order\">\n            <div class=\"order--data\">\n                Название\n            </div>\n            <div class=\"order--data\">\n                Размер\n            </div>\n            <div class=\"order--data\">\n                Тип теста\n            </div>\n            <div class=\"order--data\">\n                Тип бортика\n            </div>\n            <div class=\"order--data\">\n                Добавки к пицце\n            </div>\n            <div class=\"order--data\">\n                Адрес доставки\n            </div>\n            <div class=\"order--data\">\n                Комментарий к заказу\n            </div>\n            <div class=\"order--data\">\n                Время заказа\n            </div>\n            <div class=\"order--data\">\n                Клиент\n            </div>\n            <div class=\"order--data\">\n                Аватар клиента\n            </div>\n            <div class=\"order--data\">\n                Статус заказа\n            </div>\n            <div class=\"order--data\">\n                Подтвердить\n            </div>\n        </div>\n        <app-order *ngFor=\"let order of orders\" [order]=\"order\" [status]=\"order.status\"></app-order>\n    </div>\n    <div class=\"pagination\">\n        <button class=\"button\" (click)=\"nextOrders\">Следущие</button>\n        <button class=\"button\" (click)=\"previousOrders\">Предыдущие</button>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { IOrder } from 'src/app/models/order';\nimport { OrderService } from 'src/app/services/order.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit{\n\n  orders: IOrder[] = [];\n  ordersOffset = 0;\n  ordersAmount = 10;\n  \n  constructor(private orderService:OrderService) {}\n  \n  // Fetch last orders from API\n  ngOnInit(): void {\n    this.getOrders();\n  }\n\n  getOrders(): void {\n    this.orderService.getOrders(this.ordersOffset, this.ordersAmount).subscribe(this.setOrders.bind(this));\n  }\n  \n  setOrders(data: IOrder[]): void {\n    this.orders = data;\n    this.orders.forEach((order: IOrder) => {\n      order.createdAt = new Date(order.createdAt); \n    })\n  }\n\n  nextOrders() {\n    if (this.orders.length === this.ordersAmount) {\n      this.ordersOffset += this.ordersAmount;\n      this.getOrders() \n    }\n  }\n  \n  previousOrders() {\n    if (this.ordersOffset > 0) {\n      this.ordersOffset = Math.max(0, this.ordersOffset - this.ordersAmount);\n    }\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}